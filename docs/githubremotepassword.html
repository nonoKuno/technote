<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:site_name" content="TechNote - nonoKuno 技術系ブログ">
    <title>GitHubリモートURLへの認証情報埋め込み手順 | nonoKuno - TechNote</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="docsStyle.css">
    <link rel="icon" href="../favicon.ico">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="site-title">
                <a href="https://nonokuno.github.io/technote/">TechNote</a>
            </div>
            <nav class="breadcrumb">
                <a href="https://nonokuno.github.io/technote/">ホーム</a> > <span>GitHubリモートURLへの認証情報埋め込み手順</span>
            </nav>
        </div>
    </header>

    <main class="container">
        <article class="article-container">
            <header class="article-header">
                <h1 class="article-title">GitHubリモートURLへの認証情報埋め込み手順</h1>
                <div class="article-meta">
                    <span>公開日: 2025年7月23日</span>
                    <span>読了時間: 約4分</span>
                </div>
                <div class="article-tags">
                    <span class="tag">Git</span>
                    <span class="tag">GitHub</span>
                </div>
            </header>

            <div class="article-content">
                <h2>概要</h2>
                <p>
                    リポジトリの接続先URL自体にPersonal Access Token (PAT) を埋め込むことで、`git push`や`git pull`実行時の認証を省略する。
                    この設定は、ローカルリポジトリ内の `.git/config` ファイルに記録されるため、設定を施したリポジトリ内でのみ有効となる。
                </p>

                <blockquote>
                    <h3 style="font-size: 1.2em; color: #c0392b; margin-bottom: 10px;">注意点：セキュリティリスクについて</h3>
                    <p>
                        本手法は、認証トークンをリポジトリ内の設定ファイルに平文で記録する。
                        `.git` ディレクトリが何らかの形で外部に漏洩した場合、第三者にリポジトリへのアクセス権を奪われる危険性がある。
                        このリスクを十分に理解した上で適用すること。
                    </p>
                </blockquote>

                <h2>設定方法</h2>

                <h3>方法1：コマンドによる設定</h3>
                <p>
                    `git remote set-url` コマンドを使用するのが最も手軽かつ確実な方法である。
                    対象リポジトリのルートディレクトリで以下のコマンドを実行する。
                </p>
                <pre><code>git remote set-url origin https://&lt;ユーザー名&gt;:&lt;あなたのトークン&gt;@github.com/&lt;ユーザー名&gt;/&lt;リポジトリ名&gt;.git</code></pre>
                <ul>
                    <li><strong>&lt;ユーザー名&gt;</strong>: あなたのGitHubユーザー名。</li>
                    <li><strong>&lt;あなたのトークン&gt;</strong>: GitHubで発行したPersonal Access Token。</li>
                    <li><strong>&lt;リポジトリ名&gt;</strong>: 対象のリポジトリ名。</li>
                </ul>

                <h3>方法2：設定ファイルの直接編集</h3>
                <p>
                    方法1のコマンド実行は、`.git/config` ファイルを編集する操作と等価である。
                    テキストエディタで直接ファイルを編集しても同じ結果が得られる。
                </p>
                <p><strong>ファイルパス:</strong></p>
                <pre><code>&lt;リポジトリのルートディレクトリ&gt;/.git/config</code></pre>

                <p><strong>編集箇所:</strong><br>
                `[remote "origin"]` セクション内の `url` の値を書き換える。</p>
                
                <p><strong>変更前:</strong></p>
                <pre><code>[remote "origin"]
    url = https://github.com/ユーザー名/リポジトリ名.git
    ...</code></pre>
                
                <p><strong>変更後:</strong></p>
                <pre><code>[remote "origin"]
    url = https://&lt;ユーザー名&gt;:&lt;トークン&gt;@github.com/ユーザー名/リポジトリ名.git
    ...</code></pre>

                <h2>まとめ</h2>
                <p>特定リポジトリにおけるGit操作時の認証プロンプトを省略するための設定方法として、リモートURLに認証情報を埋め込む方法を解説した。セキュリティリスクを理解した上で、CI/CD環境や個人用の管理リポジトリなどで限定的に利用するのが賢明である。</p>
            </div>
        </article>

        <nav class="navigation">
            <a href="https://nonokuno.github.io/technote/" class="back-to-home">記事一覧に戻る</a>
        </nav>
    </main>

    <footer class="footer">
        <p>&copy; 2025 TechNote. All rights reserved.</p>
    </footer>
</body>
</html>